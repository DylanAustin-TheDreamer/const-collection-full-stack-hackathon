<!doctype html>
{% load static %}
{% load nav_tags %}
<html lang="en">
    <head>
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/favicon/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favicon/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'images/favicon/site.webmanifest' %}">
    <link rel="shortcut icon" href="{% static 'images/favicon/favicon.ico' %}">
    <!-- End Favicons -->

    <!-- SEO Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Const Collection{% endblock %}</title>
    <meta name="description" content="Illuminated acrylic art by Cecilia Kristoffersson and curated collections by Magnus Florin. Explore vibrant, contemporary artworks and exhibitions at Const Collection. Make orders through our online store.">
    <meta name="keywords" content="art, gallery, artist, exhibitions, shop, Cecilia Kristoffersson, Marcus Bussey, Const Collection, acrylic, paintings, illuminated acrylic, illuminated acrylics, illuminated art, colorful art, pychedelic art, pychedelic, pychedelia, vibrant art, vibrant, modern art, contemporary art">
    <!-- End of Meta Tags -->

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts: load union of scheme fonts so scheme token names resolve -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Playfair+Display:wght@400;700&family=Roboto:wght@400;500;700&family=Oswald:wght@400;500;700&family=Lora:wght@400;700&family=Inconsolata:wght@400;700&family=Lato:wght@400;700&family=EB+Garamond:wght@400;700&family=Source+Sans+3:wght@400;600;700&family=Michroma&family=Fira+Sans:wght@400;700&family=Press+Start+2P&family=Cousine:wght@400;700&family=Bebas+Neue&family=PT+Sans:wght@400;700&family=Anton&family=Quicksand:wght@400;500;700&family=Merriweather:wght@400;700&family=Open+Sans:wght@400;700&family=Unica+One&family=Abel&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/basket.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <!-- Theme scheme token file (swapped by theme-toggle.js). Default to Scheme-1 -->
    <link id="scheme-link" rel="stylesheet" href="{% static 'css/Scheme-1.css' %}">
    <!-- Central schemes consumer (overrides and token consumers) - must load after main.css -->
    <link rel="stylesheet" href="{% static 'css/schemes.css' %}">
    <style>
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        main {
            flex: 1;
        }
        /* Footer icons: keep the social icons vertically centered and evenly spaced on small screens */
    .footer-icons a.nav-link { display: inline-flex; align-items: center; justify-content: center; padding: 0.25rem 0.5rem; }
    .footer-icons .i { line-height: 1; font-size: 1.8rem; display: inline-block; vertical-align: middle; }
        @media (max-width: 576px) {
          .footer-icons { gap: 0.25rem; }
          .footer-icons a.nav-link { padding: 0.15rem 0.35rem; }
        }
                /* Deep card shadow used on homepage; apply via .deep-card-shadow on card containers */
                .deep-card-shadow {
                        box-shadow: 0 2px 8px 8px rgba(0, 0, 0, 0.64);
                        border-radius: 8px;
                        overflow: hidden; /* keep inner corners clipped when media fills the card */
                        background-clip: padding-box;
                }
                /* Ensure filter-card + deep-card-shadow wins over page-scoped .filter-card rules */
                .filter-card.deep-card-shadow {
                    box-shadow: 0 2px 8px 8px rgba(0, 0, 0, 0.64);
                }
                    /* Footer icons: social anchors match the Contact button height and use auto width */
                    .footer-icons { display:flex; gap: 0.75rem; align-items:center; justify-content:center; }
                    .footer-icons .footer-contact-btn { height:56px; display:flex; align-items:center; justify-content:center; padding: 0 1rem; }
                    .footer-icons a.nav-link { display:inline-flex; align-items:center; justify-content:center; height:56px; padding: 0 0.9rem; width: auto; border-radius: 8px; background: rgba(0,0,0,0.04); }
                    .footer-icons a.nav-link .i { font-size: 3.5rem; line-height: 1; }
                    @media (max-width: 576px) {
                        .footer-icons { gap: 0.5rem; }
                        .footer-icons .footer-contact-btn, .footer-icons a.nav-link { height:48px; padding: 0 0.6rem; }
                        /* small extra gap on the leftmost icons to avoid visual overhang next to Contact */

                    }
                /* Slightly reduce navbar vertical padding to make header shorter */
                .navbar.navbar-sticky {
                    padding-top: 0.35rem;
                    padding-bottom: 0.35rem;
                }
                /* Subtle page header underline that uses the site's accent and is non-intrusive */
                .page-heading-underline {
                    position: relative;
                    display: inline-block;
                    padding-bottom: 0.6rem; /* make room for the underline */
                }
                .page-heading-underline::after {
                    content: "";
                    position: absolute;
                    left: 50%;
                    transform: translateX(-50%);
                    bottom: 0.08rem;
                    height: 3px;
                    width: 60%;
                    max-width: 14rem; /* increased so long headings get a noticeably longer underline */
                    min-width: 3rem; /* keep a visible line on very short headings */
                    background: var(--text-primary, rgba(17,17,17,0.92));
                    opacity: 0.28;
                    border-radius: 2px;
                }
    </style>
</head>

<body{% if request.GET.debug_layout == '1' %} class="debug-layout"{% endif %}>
    <header>
    <nav class="navbar navbar-expand-lg navbar-light navbar-sticky deep-card-shadow" style="background: var(--surface); border-radius: 0 0 14px 14px;">
            <div class="container">
                <a class="navbar-brand d-flex align-items-center" href="{% url 'collections_app:index' %}">
                                        Const Collection
                                        <div class="tint-mask-bg" style="--tint-size:48px; margin-left:10px; display:inline-flex; align-items:center;">
                                            <div class="tint-mask" style="--tint-image:url('{% static 'images/transp-woman.png' %}'); width:48px; height:48px;" role="img" aria-label="Const Collection logo"></div>
                                        </div>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa-solid fa-bars" aria-hidden="true"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        {% url 'collections_app:gallery' as gallery_url %}
                        {% url 'collections_app:artwork_list' as store_url %}
                        {% url 'events_app:index' as events_url %}
                        {% url 'about' as about_url %}
                        {% url 'contact' as contact_url %}

                        <li class="nav-item">
                            <a class="nav-link {% nav_active gallery_url %}" href="{{ gallery_url }}">Gallery</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% nav_active store_url %}" href="{{ store_url }}">Store</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% nav_active events_url %}" href="{{ events_url }}">Events</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% nav_active about_url %}" href="{{ about_url }}">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% nav_active contact_url %}" href="{{ contact_url }}">Contact</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ms-auto">
                        {% if user.is_authenticated %}
                        <li class="nav-item">
                            <a class="nav-link position-relative" href="{% url 'collections_app:basket' %}"
                                title="Basket">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                    viewBox="0 0 16 16">
                                    <path
                                        d="M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1.217L5.07 1.243a.5.5 0 0 1 .686-.172zM2 9v4.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9H2zM1 7v1h14V7H1zm3 3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 4 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 6 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 8 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5z" />
                                </svg>
                                <span id="basket-count"
                                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                {{ user.username }}
                            </a>
                            {% url 'collections_app:user_dashboard' as dashboard_url %}
                            {% url 'collections_app:messages' as messages_url %}
                            {% url 'collections_app:manage_media' as manage_media_url %}
                            {% url 'owner_app:art_list' as manage_art_url %}
                            {% url 'owner_app:collections_list' as manage_collections_url %}
                            {% url 'owner_app:exhibitions_list' as manage_exhibitions_url %}
                            {% url 'owner_app:edit_artist' as edit_artist_url %}
                            {% url 'account_logout' as logout_url %}

                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                <li><a class="dropdown-item {% nav_active dashboard_url %}"
                    href="{{ dashboard_url }}">Dashboard</a></li>
                                                                                                {% load messages_tags %}
                                                                                                <li>
                                                                                                    {% message_count as count %}
                                                                                                    <a class="dropdown-item d-flex align-items-center {% nav_active messages_url %}" href="{{ messages_url }}">
                                                                                                        <span>Messages</span>
                                                                                                        {% if count|add:0 %}
                                                                                                            <span class="badge bg-secondary ms-2">{{ count }}</span>
                                                                                                        {% endif %}
                                                                                                    </a>
                                                                                                </li>
                {% if request.user.is_superuser %}
                <li>
                    <hr class="dropdown-divider">
                </li>
        <li><a class="dropdown-item {% nav_active manage_media_url %}"
            href="{{ manage_media_url }}">Manage Media</a></li>
                <li><a class="dropdown-item {% nav_active manage_art_url %}"
                    href="{{ manage_art_url }}">Manage Art</a></li>
                <li><a class="dropdown-item {% nav_active manage_collections_url %}"
                    href="{{ manage_collections_url }}">Manage Collections</a></li>
                <li><a class="dropdown-item {% nav_active manage_exhibitions_url %}"
                    href="{{ manage_exhibitions_url }}">Manage Exhibitions</a></li>
                <li><a class="dropdown-item {% nav_active edit_artist_url %}"
                    href="{{ edit_artist_url }}">Edit About</a></li>
                {% endif %}
                <li>
                    <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item {% nav_active logout_url %}" href="{{ logout_url }}">Logout</a></li>
                            </ul>
                        </li>
                        {% else %}
                        <li class="nav-item"><a class="nav-link" href="{% url 'account_login' %}">Login</a></li>
                        <li class="nav-item"><a class="nav-link" href="{% url 'account_signup' %}">Sign Up</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
    </header>
                <!-- Flash messages (Django messages) rendered with scheme tokens -->
                        {% if messages %}
                        <div class="container mt-3">
                            {% for m in messages %}
                                {% if m.level_tag == 'error' %}
                                    <div role="alert" class="alert" style="background: var(--danger, #b00020); color: var(--surface); border-radius:6px; padding:12px;">
                                        {{ m|safe }}
                                    </div>
                                {% elif m.level_tag == 'warning' %}
                                    <div role="alert" class="alert" style="background: var(--warning, #f59e0b); color: var(--surface); border-radius:6px; padding:12px;">
                                        {{ m|safe }}
                                    </div>
                                {% elif m.level_tag == 'success' %}
                                    <div role="alert" class="alert" style="background: var(--success, #10b981); color: var(--surface); border-radius:6px; padding:12px;">
                                        {{ m|safe }}
                                    </div>
                                {% else %}
                                    <div role="alert" class="alert" style="background: var(--surface, #fff); color: var(--text-primary); border-radius:6px; padding:12px;">
                                        {{ m|safe }}
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                        {% endif %}

                <main>
                {% block content %}
                {% endblock %}
        </main>
        <footer>
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
                        <div class="container-fluid d-flex justify-content-center align-items-center footer-icons" style="padding: 25px;">
                            <a class="nav-link" href="https://www.facebook.com/profile.php?id=61559467855096#" target="_blank"><i class="fab fa-facebook-square i"></i></a>
                            <a class="nav-link" href="https://www.instagram.com/constcollectionartbyceciliak?igsh=MTRqZXVoOXVlZms5Yw%3D%3D" target="_blank"><i class="fab fa-instagram-square i"></i></a>
                            <a class="nav-link" href="https://www.youtube.com/@constcollectionartbycecilia.k" target="_blank"><i class="fab fa-youtube-square i"></i></a>
                            <a class="my-btn footer-contact-btn" href="{% url 'contact' %}">Contact</a>
                        </div>
          </nav>
      </footer>
        {# Load Bootstrap JS (includes Popper) and site scripts so interactive components work #}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Font Awesome Icons -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
        <script>
            // expose STATIC_URL for theme-toggle.js so it can build proper hrefs
            window.STATIC_URL = "{% static '' %}";
        </script>
        <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'js/featured-carousel.js' %}"></script>
        <script src="{% static 'js/theme-toggle.js' %}"></script>

          <!-- Child templates can inject page-specific scripts here. Placed after vendor/site scripts so
              page scripts can safely reference Bootstrap and site globals. -->
        {% block scripts %}{% endblock %}

    </body>
</html>
