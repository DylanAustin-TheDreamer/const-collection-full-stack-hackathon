{% extends 'base.html' %}

{% block title %}{{ exhibition.title }} | Events | Const Collection{% endblock %}

{% block content %}
  <div class="container mt-4">
    <div class="row">
      <div class="col-md-8">
        <h2>{{ exhibition.title }}</h2>
        {% if exhibition.cover_image %}
          {% with url=exhibition.cover_image.url %}
            {% if '.mp4' in url or '.webm' in url or '.ogg' in url %}
              <video class="img-fluid mb-3" controls>
                <source src="{{ url }}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            {% else %}
              <img src="{{ url }}" class="img-fluid mb-3" alt="{{ exhibition.title }} cover">
            {% endif %}
          {% endwith %}
        {% endif %}
        <p class="text-muted">
          {% if exhibition.start_date %}{{ exhibition.start_date }}{% endif %}
          {% if exhibition.start_time %} {{ exhibition.start_time }}{% endif %}
        </p>
        <p class="text-muted">
          {% if exhibition.end_date %} â€” {{ exhibition.end_date }}{% endif %}
          {% if exhibition.end_time %} {{ exhibition.end_time }}{% endif %}
        </p>
        <p>{{ exhibition.description|linebreaks }}</p>
      </div>
      <div class="col-md-4">
        <h5>Art in this exhibition</h5>
        <div class="list-group">
          {% for ex_art in exhibition_arts %}
            <a href="{% url 'collections_app:art_detail' ex_art.art.pk %}" class="list-group-item list-group-item-action">
              {{ ex_art.art.title }}
              <div class="small text-muted">{{ ex_art.art.collection.name }}</div>
            </a>
          {% empty %}
            <div class="list-group-item">No art assigned.</div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
